{
  "version": 4,
  "terraform_version": "1.14.4",
  "serial": 66,
  "lineage": "3a443f17-d47c-2d2a-d4a3-25cb64c4ec72",
  "outputs": {},
  "resources": [
    {
      "module": "module.kubernetes.module.client",
      "mode": "managed",
      "type": "keycloak_openid_client",
      "name": "openid_client",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "index_key": "kubernetes",
          "schema_version": 0,
          "attributes": {
            "access_token_lifespan": "",
            "access_type": "PUBLIC",
            "admin_url": "",
            "authentication_flow_binding_overrides": [],
            "authorization": [],
            "backchannel_logout_revoke_offline_sessions": false,
            "backchannel_logout_session_required": true,
            "backchannel_logout_url": "",
            "base_url": "",
            "client_authenticator_type": "client-secret",
            "client_id": "kubernetes",
            "client_offline_session_idle_timeout": "",
            "client_offline_session_max_lifespan": "",
            "client_secret": "",
            "client_session_idle_timeout": "",
            "client_session_max_lifespan": "",
            "consent_required": false,
            "consent_screen_text": "",
            "description": "",
            "direct_access_grants_enabled": false,
            "display_on_consent_screen": false,
            "enabled": true,
            "exclude_session_state_from_auth_response": null,
            "extra_config": null,
            "frontchannel_logout_enabled": false,
            "frontchannel_logout_url": "",
            "full_scope_allowed": true,
            "id": "ddffe5e7-bf70-464f-a8a2-ef700486e3c3",
            "implicit_flow_enabled": false,
            "import": false,
            "login_theme": "",
            "name": "kubernetes-tf-test",
            "oauth2_device_authorization_grant_enabled": false,
            "oauth2_device_code_lifespan": "",
            "oauth2_device_polling_interval": "",
            "pkce_code_challenge_method": null,
            "realm_id": "platform-dev",
            "resource_server_id": null,
            "root_url": "",
            "service_account_user_id": "",
            "service_accounts_enabled": false,
            "standard_flow_enabled": false,
            "use_refresh_tokens": true,
            "use_refresh_tokens_client_credentials": false,
            "valid_post_logout_redirect_uris": [],
            "valid_redirect_uris": [],
            "web_origins": []
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "client_secret"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes.module.client_scopes",
      "mode": "managed",
      "type": "keycloak_openid_client_scope",
      "name": "openid_client_scope",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "index_key": "groups",
          "schema_version": 0,
          "attributes": {
            "consent_screen_text": null,
            "description": "This contains user group",
            "gui_order": null,
            "id": "51c7aa0b-f17c-4e30-bc23-67c5375019f8",
            "include_in_token_scope": true,
            "name": "groups",
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.realm.keycloak_realm.realm"
          ]
        },
        {
          "index_key": "name",
          "schema_version": 0,
          "attributes": {
            "consent_screen_text": null,
            "description": "This contains user names",
            "gui_order": null,
            "id": "a2b81738-c314-455e-83a0-6759603178e8",
            "include_in_token_scope": true,
            "name": "name",
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes.module.default_client_scopes",
      "mode": "managed",
      "type": "keycloak_openid_client_default_scopes",
      "name": "client_default_scopes",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "ddffe5e7-bf70-464f-a8a2-ef700486e3c3",
            "default_scopes": [
              "groups",
              "name"
            ],
            "id": "platform-dev/ddffe5e7-bf70-464f-a8a2-ef700486e3c3",
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.module.client.keycloak_openid_client.openid_client",
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes.module.group_membership_mappers",
      "mode": "managed",
      "type": "keycloak_openid_group_membership_protocol_mapper",
      "name": "group_membership_mapper",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "index_key": "groups",
          "schema_version": 0,
          "attributes": {
            "add_to_access_token": true,
            "add_to_id_token": true,
            "add_to_userinfo": true,
            "claim_name": "groups",
            "client_id": null,
            "client_scope_id": "51c7aa0b-f17c-4e30-bc23-67c5375019f8",
            "full_path": true,
            "id": "4a47307a-2a6b-4e98-8125-8153febe45ea",
            "name": "groups",
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.module.client_scopes.keycloak_openid_client_scope.openid_client_scope",
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes.module.group_users",
      "mode": "managed",
      "type": "keycloak_group_memberships",
      "name": "group_members",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "index_key": "clusterAdmin",
          "schema_version": 0,
          "attributes": {
            "group_id": "5490c33a-cb2f-4939-b2e5-1d55a6125329",
            "id": "platform-dev/group-memberships/5490c33a-cb2f-4939-b2e5-1d55a6125329",
            "members": [
              "admin"
            ],
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.module.groups.keycloak_group.group",
            "module.realm.keycloak_realm.realm"
          ]
        },
        {
          "index_key": "podViewer",
          "schema_version": 0,
          "attributes": {
            "group_id": "cca65c3d-d2d3-49d6-9b7e-096eb973b83b",
            "id": "platform-dev/group-memberships/cca65c3d-d2d3-49d6-9b7e-096eb973b83b",
            "members": [
              "restricted-user"
            ],
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.module.groups.keycloak_group.group",
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes.module.groups",
      "mode": "managed",
      "type": "keycloak_group",
      "name": "group",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "index_key": "clusterAdmin",
          "schema_version": 0,
          "attributes": {
            "attributes": null,
            "id": "5490c33a-cb2f-4939-b2e5-1d55a6125329",
            "name": "clusterAdmin",
            "parent_id": null,
            "path": "/clusterAdmin",
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.realm.keycloak_realm.realm"
          ]
        },
        {
          "index_key": "podViewer",
          "schema_version": 0,
          "attributes": {
            "attributes": null,
            "id": "cca65c3d-d2d3-49d6-9b7e-096eb973b83b",
            "name": "podViewer",
            "parent_id": null,
            "path": "/podViewer",
            "realm_id": "platform-dev"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes.module.user_attribute_mappers",
      "mode": "managed",
      "type": "keycloak_openid_user_attribute_protocol_mapper",
      "name": "user_attribute_mapper",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "index_key": "name",
          "schema_version": 0,
          "attributes": {
            "add_to_access_token": true,
            "add_to_id_token": true,
            "add_to_userinfo": true,
            "aggregate_attributes": false,
            "claim_name": "name",
            "claim_value_type": "String",
            "client_id": null,
            "client_scope_id": "a2b81738-c314-455e-83a0-6759603178e8",
            "id": "d0cdca95-b672-4a85-bed8-1203ad345169",
            "multivalued": false,
            "name": "name",
            "realm_id": "platform-dev",
            "user_attribute": "name"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.kubernetes.module.client_scopes.keycloak_openid_client_scope.openid_client_scope",
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.kubernetes.module.users",
      "mode": "managed",
      "type": "keycloak_user",
      "name": "user",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "index_key": "admin",
          "schema_version": 0,
          "attributes": {
            "attributes": null,
            "email": "admin@test.com",
            "email_verified": false,
            "enabled": true,
            "federated_identity": [],
            "first_name": "",
            "id": "f170abe8-a6d0-4ead-8fb3-61c8f9239039",
            "initial_password": [
              {
                "temporary": true,
                "value": "CHANGEME!"
              }
            ],
            "last_name": "",
            "realm_id": "platform-dev",
            "required_actions": [
              "UPDATE_PASSWORD"
            ],
            "username": "admin"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "initial_password"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.realm.keycloak_realm.realm"
          ]
        },
        {
          "index_key": "restricted-user",
          "schema_version": 0,
          "attributes": {
            "attributes": null,
            "email": "restricted@test.com",
            "email_verified": false,
            "enabled": true,
            "federated_identity": [],
            "first_name": "",
            "id": "8236f088-347c-4e66-b8c1-794ac7045b3b",
            "initial_password": [
              {
                "temporary": true,
                "value": "CHANGEME!"
              }
            ],
            "last_name": "",
            "realm_id": "platform-dev",
            "required_actions": [
              "UPDATE_PASSWORD"
            ],
            "username": "restricted-user"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "initial_password"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.realm.keycloak_realm.realm"
          ]
        }
      ]
    },
    {
      "module": "module.realm",
      "mode": "managed",
      "type": "keycloak_realm",
      "name": "realm",
      "provider": "provider[\"registry.terraform.io/mrparkers/keycloak\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_code_lifespan": "1m0s",
            "access_code_lifespan_login": "30m0s",
            "access_code_lifespan_user_action": "5m0s",
            "access_token_lifespan": "5m0s",
            "access_token_lifespan_for_implicit_flow": "15m0s",
            "account_theme": "",
            "action_token_generated_by_admin_lifespan": "12h0m0s",
            "action_token_generated_by_user_lifespan": "5m0s",
            "admin_theme": "",
            "attributes": null,
            "browser_flow": "browser",
            "client_authentication_flow": "clients",
            "client_session_idle_timeout": "0s",
            "client_session_max_lifespan": "0s",
            "default_default_client_scopes": null,
            "default_optional_client_scopes": null,
            "default_signature_algorithm": "",
            "direct_grant_flow": "direct grant",
            "display_name": "platform-dev",
            "display_name_html": "",
            "docker_authentication_flow": "docker auth",
            "duplicate_emails_allowed": false,
            "edit_username_allowed": false,
            "email_theme": "",
            "enabled": true,
            "id": "platform-dev",
            "internal_id": "platform-dev",
            "internationalization": [],
            "login_theme": "",
            "login_with_email_allowed": false,
            "oauth2_device_code_lifespan": "10m0s",
            "oauth2_device_polling_interval": 5,
            "offline_session_idle_timeout": "720h0m0s",
            "offline_session_max_lifespan": "1440h0m0s",
            "offline_session_max_lifespan_enabled": false,
            "otp_policy": [
              {
                "algorithm": "HmacSHA1",
                "digits": 6,
                "initial_counter": 0,
                "look_ahead_window": 1,
                "period": 30,
                "type": "totp"
              }
            ],
            "password_policy": "",
            "realm": "platform-dev",
            "refresh_token_max_reuse": 0,
            "registration_allowed": false,
            "registration_email_as_username": false,
            "registration_flow": "registration",
            "remember_me": false,
            "reset_credentials_flow": "reset credentials",
            "reset_password_allowed": false,
            "revoke_refresh_token": false,
            "security_defenses": [],
            "smtp_server": [],
            "ssl_required": "external",
            "sso_session_idle_timeout": "30m0s",
            "sso_session_idle_timeout_remember_me": "0s",
            "sso_session_max_lifespan": "10h0m0s",
            "sso_session_max_lifespan_remember_me": "0s",
            "user_managed_access": false,
            "verify_email": false,
            "web_authn_passwordless_policy": [
              {
                "acceptable_aaguids": [],
                "attestation_conveyance_preference": "not specified",
                "authenticator_attachment": "not specified",
                "avoid_same_authenticator_register": false,
                "create_timeout": 0,
                "relying_party_entity_name": "keycloak",
                "relying_party_id": "",
                "require_resident_key": "not specified",
                "signature_algorithms": [
                  "ES256",
                  "RS256"
                ],
                "user_verification_requirement": "not specified"
              }
            ],
            "web_authn_policy": [
              {
                "acceptable_aaguids": [],
                "attestation_conveyance_preference": "not specified",
                "authenticator_attachment": "not specified",
                "avoid_same_authenticator_register": false,
                "create_timeout": 0,
                "relying_party_entity_name": "keycloak",
                "relying_party_id": "",
                "require_resident_key": "not specified",
                "signature_algorithms": [
                  "ES256",
                  "RS256"
                ],
                "user_verification_requirement": "not specified"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "module.kubernetes.module.client.var.clients",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.kubernetes.module.client.var.clients",
          "status": "pass"
        }
      ]
    }
  ]
}
